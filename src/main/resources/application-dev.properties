#database configuration
# Use environment variables: SPRING_DATASOURCE_URL, SPRING_DATASOURCE_USERNAME, SPRING_DATASOURCE_PASSWORD
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/saas_app?createDatabaseIfNotExist=true}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:root}

spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.hibernate.ddl-auto=update

# File storage overrides for dev
filestorage.mode=${FILE_STORAGE_MODE:local}
filestorage.local.base-path=${FILE_STORAGE_LOCAL_PATH:uploads}
filestorage.local.public-uri-prefix=${FILE_STORAGE_PUBLIC_PREFIX:/uploads}
filestorage.cleanup.enabled=${FILE_STORAGE_CLEANUP_ENABLED:true}

# Debug logging for development only
logging.level.org.springframework.security=DEBUG
logging.level.com.siyamuddin.blog.blogappapis.Security=DEBUG
logging.level.com.siyamuddin.blog.blogappapis.Services.RateLimitService=DEBUG
logging.level.com.siyamuddin.blog.blogappapis.Security.RateLimitInterceptor=DEBUG

spring.main.allow-bean-definition-overriding=true

# Security Configuration (can override base settings)
app.security.require-email-verification-for-login=${APP_REQUIRE_EMAIL_VERIFICATION_FOR_LOGIN:true}