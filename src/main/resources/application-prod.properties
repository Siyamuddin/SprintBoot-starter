
# Database
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/saas_app?useSSL=false&serverTimezone=UTC}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:password}
# HikariCP Connection Pool Configuration (Production)
spring.datasource.hikari.minimum-idle=${SPRING_DATASOURCE_MIN_IDLE:10}
spring.datasource.hikari.maximum-pool-size=${SPRING_DATASOURCE_MAX_POOL:20}
spring.datasource.hikari.connection-timeout=${SPRING_DATASOURCE_CONNECTION_TIMEOUT:30000}
spring.datasource.hikari.idle-timeout=${SPRING_DATASOURCE_IDLE_TIMEOUT:600000}
spring.datasource.hikari.max-lifetime=${SPRING_DATASOURCE_MAX_LIFETIME:1800000}
spring.datasource.hikari.leak-detection-threshold=${SPRING_DATASOURCE_LEAK_DETECTION:60000}
spring.datasource.hikari.connection-test-query=SELECT 1
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:none}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# Flyway
spring.flyway.enabled=${SPRING_FLYWAY_ENABLED:true}
spring.flyway.url=${SPRING_FLYWAY_URL:${spring.datasource.url}}
spring.flyway.user=${SPRING_FLYWAY_USER:${spring.datasource.username}}
spring.flyway.password=${SPRING_FLYWAY_PASSWORD:${spring.datasource.password}}

# SMTP / Email
spring.mail.host=${SPRING_MAIL_HOST}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=${SPRING_MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${SPRING_MAIL_SMTP_TLS:true}

app.email.from=${APP_EMAIL_FROM}
app.email.from-name=${APP_EMAIL_FROM_NAME}
app.email.verification-base-url=${APP_EMAIL_VERIFICATION_BASE_URL}
app.email.password-reset-base-url=${APP_EMAIL_PASSWORD_RESET_BASE_URL}
app.email.enabled=${APP_EMAIL_ENABLED:true}

# Security Configuration
app.security.require-email-verification-for-login=${APP_REQUIRE_EMAIL_VERIFICATION_FOR_LOGIN:true}

# Logging
logging.level.root=INFO
logging.level.org.springframework.security=INFO
logging.level.com.siyamuddin.blog.blogappapis=INFO

# CORS Configuration
# MUST be configured via APP_CORS_ALLOWED_ORIGINS environment variable (comma-separated)
# Example: APP_CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
# For properties file, use array notation: app.cors.allowed-origins[0]=https://yourdomain.com

# Swagger/OpenAPI Configuration (disabled in production for security)
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true

# SSL/HTTPS Configuration
server.ssl.enabled=${SERVER_SSL_ENABLED:false}
server.ssl.key-store=${SERVER_SSL_KEYSTORE:/path/to/keystore.p12}
server.ssl.key-store-password=${SSL_KEYSTORE_PASSWORD:}
server.ssl.key-store-type=${SERVER_SSL_KEYSTORE_TYPE:PKCS12}
server.ssl.key-alias=${SERVER_SSL_KEY_ALIAS:tomcat}

# Spring Boot Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.health.redis.enabled=true
management.health.db.enabled=true
management.metrics.export.prometheus.enabled=true
management.metrics.tags.application=${spring.application.name:saas-starter}
management.metrics.tags.environment=${spring.profiles.active:prod}

# File storage configuration (override defaults per environment)
filestorage.mode=${FILE_STORAGE_MODE:local}
filestorage.local.base-path=${FILE_STORAGE_LOCAL_PATH:uploads}
filestorage.local.public-uri-prefix=${FILE_STORAGE_PUBLIC_PREFIX:/uploads}
filestorage.s3.bucket-name=${FILE_STORAGE_S3_BUCKET:}
filestorage.s3.region=${FILE_STORAGE_S3_REGION:}
filestorage.s3.access-key=${FILE_STORAGE_S3_ACCESS_KEY:}
filestorage.s3.secret-key=${FILE_STORAGE_S3_SECRET_KEY:}
filestorage.s3.public-base-url=${FILE_STORAGE_S3_PUBLIC_URL:}
filestorage.s3.root-folder=${FILE_STORAGE_S3_ROOT_FOLDER:uploads}
filestorage.cleanup.enabled=${FILE_STORAGE_CLEANUP_ENABLED:true}
